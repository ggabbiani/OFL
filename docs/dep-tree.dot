digraph "test" {

  bgcolor = white

    ###############################################################################
    # foundation
    ###############################################################################
  subgraph cluster0 {
    style=filled;
    color=lightgrey;
    label="foundation";


    node [
      fillcolor = white,style = "filled",
      width = "1.38889",height = "0.416667",
      shape = rect,
      color = black,
      penwidth = 2
    ];

    "2d"
    "3d"
    drawio
    util
    symbol
    type_trait
    torus
    connect
    defs
    fillet
    grid
    profile
    algo
    hole
    tube

    node [
      fillcolor = "#8ff0a4",
      style = filled,
      width = "1.38889",height = "0.416667",
      shape = rect,
      color = black,
      penwidth = 2
    ];

    base_geo
    base_string

    node [
      fillcolor = "#f66151",style = filled,
      width = "1.38889",height = "0.416667",
      shape = rect,
      color = black,
      penwidth = 2
    ];

    unsafe_defs

    edge [
      weight = 1,
      penwidth = 1,
      label = "«include»",
      color = black,
      style = solid
    ];

    algo        -> "3d";
    fillet      -> "3d";
    tube        -> "3d";
    defs        -> base_string;
    drawio      -> "2d";
    hole        -> type_trait;
    hole        -> "3d";
    connect     -> symbol;
    defs        -> base_geo;
    type_trait  -> base_string;
    util        -> "3d";
    torus       -> "3d";
    unsafe_defs -> defs;
    "3d"        -> "2d";
    "2d"        -> defs;
    grid        -> "3d";
    profile     -> "3d";
    symbol      -> "3d";
    connect     -> util;

    edge [
      weight = 1,
      penwidth = 2,
      xlabel = "«use»",
      color = red,
      style = solid
    ];

  }

  ###############################################################################
  # vitamins
  ###############################################################################

  subgraph cluster1 {
    style = filled;
    color = lightgrey;
    label="vitamins";

    node [
      fillcolor = white,style = "filled",
      width = "1.38889",height = "0.416667",
      shape = rect,
      color = black,
      penwidth = 2
    ];

    countersinks
    ethers
    hdmi
    hds
    heatsink
    heatsinks
    jacks
    knurl_nuts
    magnets
    pcb_holder

    node [
      fillcolor = "#8ff0a4",
      style = filled,
      width = "1.38889",height = "0.416667",
      shape = rect,
      color = black,
      penwidth = 2
    ];

    #dummy

    node [
      fillcolor = "#f66151",style = filled,
      width = "1.38889",height = "0.416667",
      shape = rect,
      color = black,
      penwidth = 2
    ];

    pcbs
    satas
    screw

    edge [
      weight = 1,
      penwidth = 1,
      label = "«include»",
      color = black,
      style = solid
    ];

    hds         -> satas
    heatsinks   -> pcbs
    magnets     -> countersinks
    magnets     -> screw
    pcb_holder  -> pcbs

    ###############################################################################
    # «use»
    ###############################################################################
    edge [
      weight = 1,
      penwidth = 2,
      xlabel = "«use»",
      color = red,
      style = solid
    ];

    heatsinks -> heatsink;
  }

  ###############################################################################
  # NopSCADlib
  ###############################################################################

    node [
      fillcolor = lightgrey,style = filled,
      width = "1.38889",height = "0.416667",
      shape = rect,
      color = black,
      penwidth = 0,
      width = 5,height = 1.5,
    ];

    NopSCADlib;

  ###############################################################################
  # global «include»
  ###############################################################################
  edge [
    weight = 1,
    penwidth = 2,
    xlabel = "«include»",
    color = black,
    style = dashed
  ];

  countersinks  -> defs;
  countersinks  -> NopSCADlib;
  ethers        -> unsafe_defs;
  hdmi          -> util;
  heatsinks     -> unsafe_defs;
  heatsinks     -> NopSCADlib;
  util          -> NopSCADlib;
  hds           -> NopSCADlib;

  ###############################################################################
  # global «use»
  ###############################################################################
  edge [
    weight = 1,
    penwidth = 2,
    xlabel = "«use»",
    color = black,
    style = dashed
  ];

  ethers        -> NopSCADlib;
  hdmi          -> NopSCADlib;
}
